<!DOCTYPE html>
<html>
    <head>
        <title>My first Three.js app</title>
        <style>
            body { margin: 0; }
            canvas { width: 100%; height: 100% }
        </style>
		<script>
			var renderer, scene, camera, cube, light;
			//绑定canvas和渲染器
			function initRender() {
				renderer = new THREE.WebGLRenderer();
				renderer.setSize( window.innerWidth, window.innerHeight );
				document.body.appendChild( renderer.domElement );
				//清除画面颜色
				renderer.setClearColor(0x000000);
			}
			
			//创建场景
			function initScene() {
				scene = new THREE.Scene();
				var path= "images/"
				//firefox支持file协议，chrome不支持file协议，支持http等协议。
				var urls = [
					path + 'left.jpg',
					path + 'right.jpg',
					path + 'top.jpg',
					path + 'button.jpg',
					path + 'back.jpg',
					path + 'front.jpg',
					]
					
				/*
				var path = "http://ae01.alicdn.com/kf/";       //设置路径
				var format = '.jpg';          
				var urls = [
				path + 'HTB1GBRUhpooBKNjSZFPq6xa2XXa5'+ format,     
				path + 'HTB1nqDXm98YBeNkSnb4q6yevFXa0'+ format,
				path + 'HTB13tL9vkOWBuNjSsppq6xPgpXay' + format,
				path + 'HTB1VELXvgaTBuNjSszfq6xgfpXac' + format,
				path + 'HTB1PLbTvf9TBuNjy1zbq6xpepXao' + format,
				path + 'HTB1bxWzmZuYBuNkSmRyq6AA3pXa8' + format
					];
				*/

				var textureCube = new THREE.CubeTextureLoader().load( urls );
			
				scene.background = textureCube; //作为背景贴图
				
				/*	方块	*/	
				var geometry = new THREE.BoxGeometry( 30, 30, 30 );
				var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
				var cube = new THREE.Mesh( geometry, material );
				
				scene.add(cube);
			}
			
			//创建照相机
			function initCamera() {
				camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 20000);
				//camera.position.set(25, 15, 25);
				camera.position.set(0, 150, 400);
				camera.lookAt(new THREE.Vector3(0, 0, 0));
				scene.add(camera);
			}
			
			function initLight() {
				light = new THREE.PointLight(0xffffff,1,10000);
				//light.position.set(10, 15, 50);
				light.position.set(0, 1000, 0);
				scene.add(light);
			}
			
			//渲染循环
			function render() {
				requestAnimationFrame( render );
				//cube.rotation.x += .01;
				//cube.rotation.y += .005;
				renderer.render( scene, camera );
			}
			
			//自适应窗口大小
			function onResize () {
				// 设置透视摄像机的长宽比
				camera.aspect = window.innerWidth / window.innerHeight
				// 摄像机的 position 和 target 是自动更新的，而 fov、aspect、near、far 的修改则需要重新计算投影矩阵（projection matrix）
				camera.updateProjectionMatrix()
				// 设置渲染器输出的 canvas 的大小
				renderer.setSize(window.innerWidth, window.innerHeight)
			}
			
			function init() {
				initRender();
				initScene();
				initLight();
				initCamera();
				render();
				var controls = new THREE.OrbitControls( camera);
				window.addEventListener('resize', onResize, false);
			}
		</script>
    </head>
    <body onload='init()'>
		<audio autoplay="autoplay" controls="controls"loop="loop" preload="auto"
					src="http://www.170mv.com/kw/other.web.rn01.sycdn.kuwo.cn/resource/n3/26/83/554229106.mp3">
				你的浏览器版本太低，不支持audio标签
		</audio>
      <script src="http://wow.techbrood.com/libs/three.r73.js"></script>
      <script src="http://wow.techbrood.com/libs/threejs/r78/three.min.js"></script>
      <script src="http://wow.techbrood.com/libs/threejs/r78/js/controls/OrbitControls.js"></script>
    </body>
</html>
